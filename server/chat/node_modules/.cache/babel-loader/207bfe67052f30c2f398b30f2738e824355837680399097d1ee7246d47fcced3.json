{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Documents/web developing/exercises/3/final server/Chat-Application/chat/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Documents/web developing/exercises/3/final server/Chat-Application/chat/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/User/Documents/web developing/exercises/3/final server/Chat-Application/chat/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Display from'./displayName/Display.js';import Password from'./password/Password.js';import Image from'./image/Image.js';import Username from'./userName/Username.js';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Sign(_ref){var users=_ref.users,setUsers=_ref.setUsers;var navigate=useNavigate();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),isNameReady=_useState2[0],setIsNameReady=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),isPasswordReady=_useState4[0],setIsPasswordReady=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),display=_useState10[0],setDisplay=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),picture=_useState12[0],setPicture=_useState12[1];function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var newUser,res,errorMessage;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(isNameReady&&isPasswordReady&&display)){_context.next=22;break;}_context.prev=1;event.preventDefault();newUser={username:name,password:password,displayName:display,profilePic:picture};_context.next=6;return fetch('http://localhost:5000/api/Users',{method:'post',// send a post request\nheaders:{'Content-Type':'application/json'// the data (username/password) is in the form of a JSON object\n},'body':JSON.stringify(newUser)// The actual data (username/password)\n});case 6:res=_context.sent;if(!(res.status!=200)){_context.next=14;break;}_context.next=10;return res.text();case 10:errorMessage=_context.sent;alert(\"This usrname is already exists. please peek another one\");_context.next=15;break;case 14:navigate('/login');// Navigate to the LogIn component\ncase 15:_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](1);console.error('An error occurred:',_context.t0);case 20:_context.next=23;break;case 22:alert(\"One or more of the lables are missing\");case 23:case\"end\":return _context.stop();}},_callee,null,[[1,17]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"patterns sea\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",id:\"sign-screen\",children:[/*#__PURE__*/_jsx(Username,{setIsReady:setIsNameReady,setVal:setName}),/*#__PURE__*/_jsx(Password,{setIsReady:setIsPasswordReady,setVal:setPassword}),/*#__PURE__*/_jsx(Display,{setVal:setDisplay}),/*#__PURE__*/_jsx(Image,{setVal:setPicture}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary screen-foot\",id:\"login\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"screen-foot\",id:\"register\",children:[\"Already registered? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"click here\"}),\" to log-in\"]})]})]})})]});}export default Sign;","map":{"version":3,"names":["React","useState","Display","Password","Image","Username","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Sign","_ref","users","setUsers","navigate","_useState","_useState2","_slicedToArray","isNameReady","setIsNameReady","_useState3","_useState4","isPasswordReady","setIsPasswordReady","_useState5","_useState6","name","setName","_useState7","_useState8","password","setPassword","_useState9","_useState10","display","setDisplay","_useState11","_useState12","picture","setPicture","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","newUser","res","errorMessage","wrap","_callee$","_context","prev","next","preventDefault","username","displayName","profilePic","fetch","method","headers","JSON","stringify","sent","status","text","alert","t0","console","error","stop","children","className","onSubmit","id","setIsReady","setVal","type","to"],"sources":["C:/Users/User/Documents/web developing/exercises/3/final server/Chat-Application/chat/src/sign-in/Sign.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Display from './displayName/Display.js';\r\nimport Password from './password/Password.js';\r\nimport Image from './image/Image.js';\r\nimport Username from './userName/Username.js';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nfunction Sign({ users, setUsers }) {\r\n  const navigate = useNavigate();\r\n  const [isNameReady, setIsNameReady] = useState(null);\r\n  const [isPasswordReady, setIsPasswordReady] = useState(null);\r\n\r\n  const [name, setName] = useState(null);\r\n  const [password, setPassword] = useState(null);\r\n  const [display, setDisplay] = useState(null);\r\n  const [picture, setPicture] = useState(null);\r\n\r\n  async function handleSubmit(event) {\r\n    if (isNameReady && isPasswordReady && display) {\r\n      try{\r\n        event.preventDefault();\r\n      const newUser = {\r\n        username: name,\r\n        password: password,\r\n        displayName: display,\r\n        profilePic: picture\r\n      };\r\n      const res = await fetch('http://localhost:5000/api/Users', {\r\nmethod: 'post', // send a post request\r\nheaders: {\r\n'Content-Type': 'application/json', // the data (username/password) is in the form of a JSON object\r\n},\r\n'body': JSON.stringify(newUser) // The actual data (username/password)\r\n});\r\nif (res.status != 200){\r\n  const errorMessage = await res.text();\r\n  alert(\"This usrname is already exists. please peek another one\");\r\n} else {\r\n  navigate('/login'); // Navigate to the LogIn component\r\n}\r\n\r\n      } catch(error){\r\n        console.error('An error occurred:', error);\r\n      } \r\n    }else{\r\n      alert(\"One or more of the lables are missing\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"patterns sea\"></div>\r\n      <form onSubmit={handleSubmit} >\r\n        <div className=\"container-fluid\" id=\"sign-screen\">\r\n          <Username setIsReady={setIsNameReady} setVal={setName} />\r\n          <Password setIsReady={setIsPasswordReady} setVal={setPassword} />\r\n          <Display setVal={setDisplay} />\r\n          <Image setVal={setPicture} />\r\n          <div>\r\n            <button type=\"submit\" className=\"btn btn-primary screen-foot\" id=\"login\">\r\n              Register\r\n            </button>\r\n            <span className=\"screen-foot\" id=\"register\">\r\n              Already registered? <Link to=\"/login\">click here</Link> to log-in\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sign;\r\n\r\n \r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}