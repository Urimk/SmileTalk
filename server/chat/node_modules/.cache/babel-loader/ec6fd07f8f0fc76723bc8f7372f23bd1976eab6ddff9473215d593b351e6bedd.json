{"ast":null,"code":"import React,{useRef}from\"react\";import ProfilePic from\"./ProfilePic.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Contact(_ref){var chat=_ref.chat,onClick=_ref.onClick;var chatPreviewRef=useRef(null);var handleClick=function handleClick(){onClick(chat);var chatPreviews=document.querySelectorAll(\".chat_preview\");chatPreviews.forEach(function(chatPreview){chatPreview.classList.remove(\"current_chat\");});chatPreviewRef.current.classList.add(\"current_chat\");};var lastMessageTxt=chat.lastMessage?chat.lastMessage.content:\"You have no messages with this contact.\";var lastMessageTime=chat.lastMessage?chat.lastMessage.created:\"\";var dateTimeFormatted;if(lastMessageTime!==\"\"){var dateTime=new Date(lastMessageTime);var date=dateTime.toLocaleDateString();var time=dateTime.toLocaleTimeString();dateTimeFormatted=\"\".concat(date,\" \").concat(time);}return/*#__PURE__*/_jsxs(\"div\",{className:\"chat_preview\",ref:chatPreviewRef,onClick:handleClick,children:[/*#__PURE__*/_jsx(ProfilePic,{pic:chat.user.profilePic}),/*#__PURE__*/_jsx(\"span\",{className:\"username\",children:chat.user.username}),/*#__PURE__*/_jsx(\"span\",{className:\"msg_preview new_message\",children:lastMessageTxt}),/*#__PURE__*/_jsx(\"span\",{className:\"timestamp\",children:dateTimeFormatted})]});}export default Contact;","map":{"version":3,"names":["React","useRef","ProfilePic","jsx","_jsx","jsxs","_jsxs","Contact","_ref","chat","onClick","chatPreviewRef","handleClick","chatPreviews","document","querySelectorAll","forEach","chatPreview","classList","remove","current","add","lastMessageTxt","lastMessage","content","lastMessageTime","created","dateTimeFormatted","dateTime","Date","date","toLocaleDateString","time","toLocaleTimeString","concat","className","ref","children","pic","user","profilePic","username"],"sources":["C:/Users/User/Documents/web developing/exercises/3/part 3/Chat-Application/chat/src/ChatScreen/Contact.js"],"sourcesContent":["import React, { useRef } from \"react\";\r\nimport ProfilePic from \"./ProfilePic.js\";\r\n\r\n\r\nfunction Contact({ chat, onClick }) {\r\n    const chatPreviewRef = useRef(null);\r\n\r\n    const handleClick = () => {\r\n      onClick(chat);\r\n  \r\n      const chatPreviews = document.querySelectorAll(\".chat_preview\");\r\n  \r\n      chatPreviews.forEach((chatPreview) => {\r\n        chatPreview.classList.remove(\"current_chat\");\r\n      });\r\n  \r\n      chatPreviewRef.current.classList.add(\"current_chat\");\r\n    };\r\n  \r\n    const lastMessageTxt = chat.lastMessage ? chat.lastMessage.content : \"You have no messages with this contact.\";\r\n    const lastMessageTime = chat.lastMessage ? chat.lastMessage.created : \"\";\r\n    let dateTimeFormatted;\r\n    if (lastMessageTime !== \"\") {\r\n      const dateTime = new Date(lastMessageTime);\r\n      const date = dateTime.toLocaleDateString();\r\n      const time = dateTime.toLocaleTimeString();\r\n      dateTimeFormatted = `${date} ${time}`;\r\n    }\r\n    return (\r\n      <div className=\"chat_preview\" ref={chatPreviewRef} onClick={handleClick}>\r\n        <ProfilePic pic={chat.user.profilePic}/>\r\n        <span className=\"username\">{chat.user.username}</span>\r\n        <span className=\"msg_preview new_message\">{lastMessageTxt}</span>\r\n        <span className=\"timestamp\">{dateTimeFormatted}</span>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Contact;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,KAAQ,OAAO,CACrC,MAAO,CAAAC,UAAU,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGzC,QAAS,CAAAC,OAAOA,CAAAC,IAAA,CAAoB,IAAjB,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAC5B,GAAM,CAAAC,cAAc,CAAGV,MAAM,CAAC,IAAI,CAAC,CAEnC,GAAM,CAAAW,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxBF,OAAO,CAACD,IAAI,CAAC,CAEb,GAAM,CAAAI,YAAY,CAAGC,QAAQ,CAACC,gBAAgB,CAAC,eAAe,CAAC,CAE/DF,YAAY,CAACG,OAAO,CAAC,SAACC,WAAW,CAAK,CACpCA,WAAW,CAACC,SAAS,CAACC,MAAM,CAAC,cAAc,CAAC,CAC9C,CAAC,CAAC,CAEFR,cAAc,CAACS,OAAO,CAACF,SAAS,CAACG,GAAG,CAAC,cAAc,CAAC,CACtD,CAAC,CAED,GAAM,CAAAC,cAAc,CAAGb,IAAI,CAACc,WAAW,CAAGd,IAAI,CAACc,WAAW,CAACC,OAAO,CAAG,yCAAyC,CAC9G,GAAM,CAAAC,eAAe,CAAGhB,IAAI,CAACc,WAAW,CAAGd,IAAI,CAACc,WAAW,CAACG,OAAO,CAAG,EAAE,CACxE,GAAI,CAAAC,iBAAiB,CACrB,GAAIF,eAAe,GAAK,EAAE,CAAE,CAC1B,GAAM,CAAAG,QAAQ,CAAG,GAAI,CAAAC,IAAI,CAACJ,eAAe,CAAC,CAC1C,GAAM,CAAAK,IAAI,CAAGF,QAAQ,CAACG,kBAAkB,CAAC,CAAC,CAC1C,GAAM,CAAAC,IAAI,CAAGJ,QAAQ,CAACK,kBAAkB,CAAC,CAAC,CAC1CN,iBAAiB,IAAAO,MAAA,CAAMJ,IAAI,MAAAI,MAAA,CAAIF,IAAI,CAAE,CACvC,CACA,mBACE1B,KAAA,QAAK6B,SAAS,CAAC,cAAc,CAACC,GAAG,CAAEzB,cAAe,CAACD,OAAO,CAAEE,WAAY,CAAAyB,QAAA,eACtEjC,IAAA,CAACF,UAAU,EAACoC,GAAG,CAAE7B,IAAI,CAAC8B,IAAI,CAACC,UAAW,CAAC,CAAC,cACxCpC,IAAA,SAAM+B,SAAS,CAAC,UAAU,CAAAE,QAAA,CAAE5B,IAAI,CAAC8B,IAAI,CAACE,QAAQ,CAAO,CAAC,cACtDrC,IAAA,SAAM+B,SAAS,CAAC,yBAAyB,CAAAE,QAAA,CAAEf,cAAc,CAAO,CAAC,cACjElB,IAAA,SAAM+B,SAAS,CAAC,WAAW,CAAAE,QAAA,CAAEV,iBAAiB,CAAO,CAAC,EACnD,CAAC,CAEV,CAEA,cAAe,CAAApB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}