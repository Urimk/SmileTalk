{"ast":null,"code":"var _jsxFileName = \"/home/uri/\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4/Ex2/Chat-Application/chat/src/sign-in/Sign.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport Display from './displayName/Display.js';\nimport Password from './password/Password.js';\nimport Image from './image/Image';\nimport Username from './userName/Username.js';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Sign(_ref) {\n  _s();\n  let {\n    users,\n    setUsers\n  } = _ref;\n  const navigate = useNavigate();\n  const [isNameReady, setIsNameReady] = useState(null);\n  const [isPasswordReady, setIsPasswordReady] = useState(null);\n  const [name, setName] = useState(null);\n  const [password, setPassword] = useState(null);\n  const [display, setDisplay] = useState(null);\n  const [picture, setPicture] = useState(null);\n  async function handleSubmit(event) {\n    if (isNameReady && isPasswordReady) {\n      try {\n        event.preventDefault();\n        const newUser = {\n          username: name,\n          password: password,\n          displayName: display,\n          profilePic: picture,\n          registered: \"no\"\n        };\n        const res = await fetch('http://localhost:5000/api/Users', {\n          method: 'post',\n          // send a post request\n          headers: {\n            'Content-Type': 'application/json' // the data (username/password) is in the form of a JSON object\n          },\n\n          'body': JSON.stringify(newUser) // The actual data (username/password)\n        });\n\n        if (res.status != 200) {\n          if (res.status == 409) {\n            alert('This username already exists in our system, please pick another one');\n          }\n        } else {\n          navigate('/login'); // Navigate to the LogIn component\n        }\n      } catch (error) {\n        console.error('An error occurred:', error);\n      }\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"patterns sea\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        id: \"sign-screen\",\n        children: [/*#__PURE__*/_jsxDEV(Username, {\n          setIsReady: setIsNameReady,\n          setVal: setName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Password, {\n          setIsReady: setIsPasswordReady,\n          setVal: setPassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Display, {\n          setVal: setDisplay\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Image, {\n          setVal: setPicture\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary screen-foot\",\n            id: \"login\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"screen-foot\",\n            id: \"register\",\n            children: [\"Already registered? \", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/login\",\n              children: \"click here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 35\n            }, this), \" to log-in\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(Sign, \"Ok32Fylr32uOhlaT5L4inzA49OQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Sign;\nexport default Sign;\nvar _c;\n$RefreshReg$(_c, \"Sign\");","map":{"version":3,"names":["React","useState","Display","Password","Image","Username","Link","useNavigate","jsxDEV","_jsxDEV","Sign","_ref","_s","users","setUsers","navigate","isNameReady","setIsNameReady","isPasswordReady","setIsPasswordReady","name","setName","password","setPassword","display","setDisplay","picture","setPicture","handleSubmit","event","preventDefault","newUser","username","displayName","profilePic","registered","res","fetch","method","headers","JSON","stringify","status","alert","error","console","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","id","setIsReady","setVal","type","to","_c","$RefreshReg$"],"sources":["/home/uri/שולחן העבודה/Ex2/Chat-Application/chat/src/sign-in/Sign.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Display from './displayName/Display.js';\nimport Password from './password/Password.js';\nimport Image from './image/Image';\nimport Username from './userName/Username.js';\nimport { Link, useNavigate } from 'react-router-dom';\n\nfunction Sign({ users, setUsers }) {\n  const navigate = useNavigate();\n  const [isNameReady, setIsNameReady] = useState(null);\n  const [isPasswordReady, setIsPasswordReady] = useState(null);\n\n  const [name, setName] = useState(null);\n  const [password, setPassword] = useState(null);\n  const [display, setDisplay] = useState(null);\n  const [picture, setPicture] = useState(null);\n\n  async function handleSubmit(event) {\n    if (isNameReady && isPasswordReady) {\n      try{\n        event.preventDefault();\n      const newUser = {\n        username: name,\n        password: password,\n        displayName: display,\n        profilePic: picture,\n        registered: \"no\",\n      };\n      const res = await fetch('http://localhost:5000/api/Users', {\nmethod: 'post', // send a post request\nheaders: {\n'Content-Type': 'application/json', // the data (username/password) is in the form of a JSON object\n},\n'body': JSON.stringify(newUser) // The actual data (username/password)\n});\nif (res.status != 200){\n  if(res.status == 409){\n    alert('This username already exists in our system, please pick another one')\n  }\n}else {\n  navigate('/login'); // Navigate to the LogIn component\n}\n\n      } catch(error){\n        console.error('An error occurred:', error);\n      } \n    }\n  }\n\n  return (\n    <div>\n      <div className=\"patterns sea\"></div>\n      <form onSubmit={handleSubmit} >\n        <div className=\"container-fluid\" id=\"sign-screen\">\n          <Username setIsReady={setIsNameReady} setVal={setName} />\n          <Password setIsReady={setIsPasswordReady} setVal={setPassword} />\n          <Display setVal={setDisplay} />\n          <Image setVal={setPicture} />\n          <div>\n            <button type=\"submit\" className=\"btn btn-primary screen-foot\" id=\"login\">\n              Register\n            </button>\n            <span className=\"screen-foot\" id=\"register\">\n              Already registered? <Link to=\"/login\">click here</Link> to log-in\n            </span>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Sign;\n\n \n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}